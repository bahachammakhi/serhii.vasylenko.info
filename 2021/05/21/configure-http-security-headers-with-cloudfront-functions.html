<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.2"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Configure HTTP Security headers with CloudFront Functions" /><meta name="author" content="Serhii Vasylenko" /><meta property="og:locale" content="en_US" /><meta name="description" content="An overview of the recently launched AWS CloudFront Functions service with a practical example" /><meta property="og:description" content="An overview of the recently launched AWS CloudFront Functions service with a practical example" /><link rel="canonical" href="https://serhii.vasylenko.info/2021/05/21/configure-http-security-headers-with-cloudfront-functions.html" /><meta property="og:url" content="https://serhii.vasylenko.info/2021/05/21/configure-http-security-headers-with-cloudfront-functions.html" /><meta property="og:site_name" content="Serhii Vasylenko" /><meta property="og:image" content="https://serhii.vasylenko.info/assets/posts/2021-05-21-configure-http-security-headers-with-cloudfront-functions/cover_image.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-05-21T00:00:00+03:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://serhii.vasylenko.info/assets/posts/2021-05-21-configure-http-security-headers-with-cloudfront-functions/cover_image.png" /><meta property="twitter:title" content="Configure HTTP Security headers with CloudFront Functions" /><meta name="twitter:site" content="@vasylenko" /><meta name="twitter:creator" content="@Serhii Vasylenko" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"image":"https://serhii.vasylenko.info/assets/posts/2021-05-21-configure-http-security-headers-with-cloudfront-functions/cover_image.png","description":"An overview of the recently launched AWS CloudFront Functions service with a practical example","headline":"Configure HTTP Security headers with CloudFront Functions","dateModified":"2021-05-21T00:00:00+03:00","datePublished":"2021-05-21T00:00:00+03:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://serhii.vasylenko.info/2021/05/21/configure-http-security-headers-with-cloudfront-functions.html"},"url":"https://serhii.vasylenko.info/2021/05/21/configure-http-security-headers-with-cloudfront-functions.html","author":{"@type":"Person","name":"Serhii Vasylenko"},"@context":"https://schema.org"}</script><title>Configure HTTP Security headers with CloudFront Functions | Serhii Vasylenko</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Serhii Vasylenko</a></div><div class="site-subtitle font-italic">Personal blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories.html" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/tags.html" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/tabs/archives.html" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about.html" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/vasylenko" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/vasylenko" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['mail-from-blog','vasylenko.info'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Configure HTTP Security headers with CloudFront Functions</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Configure HTTP Security headers with CloudFront Functions</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, May 21, 2021, 12:00 AM +0300" > May 21 <i class="unloaded">2021-05-21T00:00:00+03:00</i> </span> by <span class="author"> Serhii Vasylenko </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="979 words">5 min</span></div></div><div class="post-content"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/posts/2021-05-21-configure-http-security-headers-with-cloudfront-functions/cover_image.png" class="preview-img"><p>A couple of weeks ago, AWS released CloudFront Functions — a “true edge” compute capability for the CloudFront.</p><p>It is “true edge” because Functions work on 200+ edge locations (<a href="https://aws.amazon.com/cloudfront/features/?whats-new-cloudfront.sort-by=item.additionalFields.postDateTime&amp;whats-new-cloudfront.sort-order=desc#Edge_Computing">link to doc</a>) while its predecessor, the Lambda@Edge, runs on a small number of regional edge caches.</p><p>One of the use cases for Lambda@Edge was adding security HTTP headers (it’s even listed on the <a href="https://aws.amazon.com/lambda/edge/">product page</a>), and now there is one more way to make it using CloudFront Functions.</p><h2 id="what-are-security-headers-and-why-it-matters">What are security headers, and why it matters</h2><p>Security Headers are one of the web security pillars.</p><p>They specify security-related information of communication between a web application (i.e., website) and a client (i.e., browser) and protect the web app from different types of attacks. Also, HIPAA and PCI, and other security standard certifications generally include these headers in their rankings.</p><p>We will use CloudFront Functions to set the following headers:</p><ul><li><a href="https://infosec.mozilla.org/guidelines/web_security#content-security-policy">Content Security Policy</a><li><a href="https://infosec.mozilla.org/guidelines/web_security#http-strict-transport-security">Strict Transport Security</a><li><a href="https://infosec.mozilla.org/guidelines/web_security#x-content-type-options">X-Content-Type-Options</a><li><a href="https://infosec.mozilla.org/guidelines/web_security#x-xss-protection">X-XSS-Protection</a><li><a href="https://infosec.mozilla.org/guidelines/web_security#x-frame-options">X-Frame-Options</a><li><a href="https://infosec.mozilla.org/guidelines/web_security#referrer-policy">Referrer Policy</a></ul><p>You can find a short and detailed explanation for each security header on <a href="https://infosec.mozilla.org/guidelines/web_security">Web Security cheatsheet made by Mozilla</a></p><h2 id="cloudfront-functions-overview">CloudFront Functions overview</h2><p>In a nutshell, CloudFront Functions allow performing simple actions against HTTP(s) request (from the client) and response (from the CloudFront cache at the edge). Functions take less than one millisecond to execute, support JavaScript (ECMAScript 5.1 compliant), and cost $0.10 per 1 million invocations.</p><p>Every CloudFront distribution has one (default) or more Cache behaviors, and Functions can be associated with these behaviors to execute upon a specific event.</p><p>That is how the request flow looks like in general, and here is where CloudFront Functions execution happens:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/posts/2021-05-21-configure-http-security-headers-with-cloudfront-functions/request_flow.png" alt="" /></p><p>CloudFront Functions support Viewer Request (after CloudFront receives a request from a client) and Viewer Response (before CloudFront forwards the response to the client) events.</p><p>You can read more about the events types and their properties here — <a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/lambda-cloudfront-trigger-events.html">CloudFront Events That Can Trigger a Lambda Function - Amazon CloudFront</a>.</p><p>Also, the CloudFront Functions allow you to manage and operate the code and lifecycle of the functions directly from the CloudFront web interface.</p><h2 id="solution-overview">Solution overview</h2><p>CloudFront distribution should exist before Function creation so you could associate the Function with the distribution.</p><p>Creation and configuration of the CloudFront Function consist of the following steps:</p><h3 id="create-function">Create Function</h3><p>In the AWS Console, open CloudFront service and lick on the Functions on the left navigation bar, then click Create function button. <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/posts/2021-05-21-configure-http-security-headers-with-cloudfront-functions/create_function.png" alt="" /> Enter the name of your Function (e.g., “security-headers”) and click Continue.</p><h3 id="build-function">Build Function</h3><p>On the function settings page, you will see four tabs with the four lifecycle steps: Build, Test, Publish, Associate.</p><p>Paste the function code into the editor and click “Save.”</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/posts/2021-05-21-configure-http-security-headers-with-cloudfront-functions/function_editor.png" alt="" /></p><p>Here is the source code of the function:</p><div class="language-javascript highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">handler</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
<span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">response</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">;</span>

<span class="nx">headers</span><span class="p">[</span><span class="dl">'</span><span class="s1">strict-transport-security</span><span class="dl">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">max-age=63072000; includeSubdomains; preload</span><span class="dl">'</span><span class="p">};</span> 
<span class="nx">headers</span><span class="p">[</span><span class="dl">'</span><span class="s1">content-security-policy</span><span class="dl">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">default-src 'none'; img-src 'self'; script-src 'self'; style-src 'self'; object-src 'none'; frame-ancestors 'none'</span><span class="dl">"</span><span class="p">};</span> 
<span class="nx">headers</span><span class="p">[</span><span class="dl">'</span><span class="s1">x-content-type-options</span><span class="dl">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">nosniff</span><span class="dl">'</span><span class="p">};</span> 
<span class="nx">headers</span><span class="p">[</span><span class="dl">'</span><span class="s1">x-xss-protection</span><span class="dl">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">1; mode=block</span><span class="dl">'</span><span class="p">};</span>
<span class="nx">headers</span><span class="p">[</span><span class="dl">'</span><span class="s1">referrer-policy</span><span class="dl">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">same-origin</span><span class="dl">'</span><span class="p">};</span>
<span class="nx">headers</span><span class="p">[</span><span class="dl">'</span><span class="s1">x-frame-options</span><span class="dl">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">DENY</span><span class="dl">'</span><span class="p">};</span>

<span class="k">return</span> <span class="nx">response</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h4 id="test-function">Test Function</h4><p>Open the “Test” tab — let’s try our function first before it becomes live!</p><p>Select Viewer Response event type and Development Stage, then select “Viewer response with headers” as a Sample test event (you will get a simple set of headers automatically).</p><p>Now click the blue “Test” button and observe the output results:</p><ul><li>Compute utilization represents the relative amount of time (on a scale between 0 and 100) your function took to run<li>Check the Response headers tab and take a look at how the function added custom headers.</ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/posts/2021-05-21-configure-http-security-headers-with-cloudfront-functions/function_test.png" alt="" /></p><h3 id="publish-function">Publish Function</h3><p>Let’s publish our function. To do that, open the Publish tab and click on the blue button “Publish and update.” <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/posts/2021-05-21-configure-http-security-headers-with-cloudfront-functions/function_publish.png" alt="" /></p><h3 id="associate-your-function-with-cloudfront-distribution">Associate your Function with CloudFront distribution</h3><p>Now, you can associate the function with the CloudFront distribution.</p><p>To do so, open the Associate tab, select the distribution and event type (Viewer Response), and select the Cache behavior of your distribution which you want to use for the association.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/posts/2021-05-21-configure-http-security-headers-with-cloudfront-functions/function_associate.png" alt="" /></p><p>Once you associate the function with the CloudFront distribution, you can test it in live mode.</p><p>I will use curl here to demonstrate it:</p><div class="language-shell highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="o">&gt;</span> curl <span class="nt">-i</span> https://d30i87a4ss9ifz.cloudfront.net
HTTP/2 200
content-type: text/html
content-length: 140
<span class="nb">date</span>: Sat, 22 May 2021 00:22:18 GMT
last-modified: Tue, 27 Apr 2021 23:07:14 GMT
etag: <span class="s2">"a855a3189f8223db53df8a0ca362dd62"</span>
accept-ranges: bytes
server: AmazonS3
via: 1.1 50f21cb925e6471490e080147e252d7d.cloudfront.net <span class="o">(</span>CloudFront<span class="o">)</span>
content-security-policy: default-src <span class="s1">'none'</span><span class="p">;</span> img-src <span class="s1">'self'</span><span class="p">;</span> script-src <span class="s1">'self'</span><span class="p">;</span> style-src <span class="s1">'self'</span><span class="p">;</span> object-src <span class="s1">'none'</span><span class="p">;</span> frame-ancestors <span class="s1">'none'</span>
strict-transport-security: max-age<span class="o">=</span>63072000<span class="p">;</span> includeSubdomains<span class="p">;</span> preload
x-xss-protection: 1<span class="p">;</span> <span class="nv">mode</span><span class="o">=</span>block
x-frame-options: DENY
referrer-policy: same-origin
x-content-type-options: nosniff
x-cache: Miss from cloudfront
x-amz-cf-pop: WAW50-C1
x-amz-cf-id: ud3qH8rLs7QmbhUZ-DeupGwFhWLpKDSD59vr7uWC65Hui5m2U8o2mw<span class="o">==</span>
</pre></table></code></div></div><p>You can also test your results here — <a href="https://observatory.mozilla.org/">Mozilla Observatory</a></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/posts/2021-05-21-configure-http-security-headers-with-cloudfront-functions/scan_result-1.png" alt="" /> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/posts/2021-05-21-configure-http-security-headers-with-cloudfront-functions/scan_result-2.png" alt="" /></p><h2 id="read-more">Read more</h2><p>That was a simplified overview of the CloudFront Functions capabilities.</p><p>But if you want to get deeper, here is a couple of useful links to start:</p><ul><li>Another overview from AWS — <a href="https://aws.amazon.com/blogs/aws/introducing-cloudfront-functions-run-your-code-at-the-edge-with-low-latency-at-any-scale">CloudFront Functions Launch Blog</a><li>More about creating, testing, updating and publishing of CloudFront Functions — <a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/managing-functions.html">Managing functions in CloudFront Functions - Amazon CloudFront</a></ul><h2 id="so-what-to-choose">So what to choose?</h2><p>CloudFront Functions are simpler than Lambda@Edge and run faster with minimal latency and minimal time penalty for your web clients.</p><p>Lambda@Edge takes more time to invoke, but it can run upon Origin Response event so that CloudFront can cache the processed response (including headers) and return it faster afterward.</p><p>But again, the CloudFront Functions invocations are much cheaper (6x times) than Lambda@Edge, and you do not pay for the function execution duration.</p><p>The final decision would also depend on the dynamic/static nature of the content you have at your origin.</p><p>To make a wise and deliberate decision, try to analyze your use case using these two documentation articles:</p><ul><li><a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/edge-functions.html">Choosing between CloudFront Functions and Lambda@Edge</a><li><a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/lambda-how-to-choose-event.html">How to Decide Which CloudFront Event to Use to Trigger a Lambda Function</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/technical-blogs/'>Technical Blogs</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/aws/" class="post-tag no-text-decoration" >aws</a> <a href="/tags/cloudfront/" class="post-tag no-text-decoration" >cloudfront</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Configure HTTP Security headers with CloudFront Functions - Serhii Vasylenko&url=https://serhii.vasylenko.info/2021/05/21/configure-http-security-headers-with-cloudfront-functions.html" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Configure HTTP Security headers with CloudFront Functions - Serhii Vasylenko&u=https://serhii.vasylenko.info/2021/05/21/configure-http-security-headers-with-cloudfront-functions.html" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Configure HTTP Security headers with CloudFront Functions - Serhii Vasylenko&url=https://serhii.vasylenko.info/2021/05/21/configure-http-security-headers-with-cloudfront-functions.html" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div class="post-navigation d-flex justify-content-between"> <a href="/2021/02/14/image-compression-with-tinypng-from-macos-contextual-menu.html" class="btn btn-outline-primary"><p>Using TinyPNG Image Compression From MacOS Finder Contextual Menu</p></a> <a href="/2021/05/27/run-ansible-playbook-mac1-metal-aws-systems-manager.html" class="btn btn-outline-primary"><p>Run Ansible playbook on mac1.metal instances fleet with AWS Systems Manager</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="font-italic text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//serhii-vasylenko-info.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://serhii.vasylenko.info/2021/05/21/configure-http-security-headers-with-cloudfront-functions.html'; this.page.identifier = '/2021/05/21/configure-http-security-headers-with-cloudfront-functions.html'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/vasylenko">Serhii Vasylenko</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div><script async defer src="https://scripts.simpleanalyticscdn.com/latest.js"></script> <noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt=""/></noscript></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/terraform/">terraform</a> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/devops/">devops</a> <a class="post-tag" href="/tags/ansible/">ansible</a> <a class="post-tag" href="/tags/macos/">macos</a> <a class="post-tag" href="/tags/cli/">cli</a> <a class="post-tag" href="/tags/cloudfront/">cloudfront</a> <a class="post-tag" href="/tags/favicon/">favicon</a> <a class="post-tag" href="/tags/fun/">fun</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://serhii.vasylenko.info{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
